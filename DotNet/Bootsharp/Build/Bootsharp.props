<Project>

    <PropertyGroup>

        <!-- Project defaults common to the build target. -->
        <OutputType>Exe</OutputType>
        <Configuration>Release</Configuration>
        <TargetArchitecture>wasm</TargetArchitecture>
        <TargetOS>browser</TargetOS>
        <RuntimeIdentifier>browser-wasm</RuntimeIdentifier>
        <InvariantTimezone>true</InvariantTimezone>
        <InvariantGlobalization>true</InvariantGlobalization>
        <WasmStripILAfterAOT>true</WasmStripILAfterAOT>
        <WasmGenerateAppBundle>true</WasmGenerateAppBundle>
        <WasmEnableLegacyJsInterop>false</WasmEnableLegacyJsInterop>
        <!-- Can't generate serialized types due to https://github.com/dotnet/roslyn/issues/57239; adds about 500KB to the build size. -->
        <!-- https://learn.microsoft.com/en-us/dotnet/standard/serialization/system-text-json/source-generation -->
        <!-- TODO: Disable when aggressive trimming and rely on user to manually specify serialized types. -->
        <JsonSerializerIsReflectionEnabledByDefault>true</JsonSerializerIsReflectionEnabledByDefault>

        <!-- Bootsharp public defaults. -->
        <!-- Name of the generated JavaScript module; 'bootsharp' by default. -->
        <BootsharpName>bootsharp</BootsharpName>
        <!-- Whether to embed binaries to the JavaScript module file (true or false); true by default. -->
        <BootsharpEmbedBinaries>true</BootsharpEmbedBinaries>
        <!-- Directory (relative to base output) to publish generated JavaScript module; 'base-output/module-name' by default. -->
        <BootsharpPublishDirectory>$(BootsharpName)</BootsharpPublishDirectory>
        <!-- Directory (relative to base output) to publish type declarations; 'publish-dir/types' by default. -->
        <BootsharpTypesDirectory>$(BootsharpPublishDirectory)/types</BootsharpTypesDirectory>
        <!-- Directory (relative to base output) to publish binaries when 'EmbedBinaries' disabled; 'publish-dir/bin' by default. -->
        <BootsharpBinariesDirectory>$(BootsharpPublishDirectory)/bin</BootsharpBinariesDirectory>
        <!-- Directory (relative to base output) to publish 'package.json' file; same as publish directory by default. -->
        <BootsharpPackageDirectory>$(BootsharpPublishDirectory)</BootsharpPackageDirectory>
        <!-- Whether to disable some .NET features to reduce binary size (true or false); false by default. -->
        <BootsharpAggressiveTrimming>false</BootsharpAggressiveTrimming>

    </PropertyGroup>

    <ItemGroup>
        <AssemblyAttribute Include="System.Runtime.Versioning.SupportedOSPlatform">
            <_Parameter1>browser</_Parameter1>
        </AssemblyAttribute>
    </ItemGroup>

</Project>
